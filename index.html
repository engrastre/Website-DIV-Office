{% extends "base.html" %}
{% load static %}

{% block title %}
DEPED | DIVISION OF BIÑAN
{% endblock %}

{% block content %}
<!-- Slideshow Styles -->



{% load static%}
{% load static %}
{% load static %}
{% load static %}

<!-- Lightbox CSS -->
    <link href="https://cdn.jsdelivr.net/npm/lightbox2@2.11.3/dist/css/lightbox.min.css" rel="stylesheet">
    <!-- Lightbox JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/lightbox2@2.11.3/dist/js/lightbox-plus-jquery.min.js"></script>
    <script src="{% static 'js/script.js' %}"></script>
    <style>



         .container {
               margin: 0 auto; /* Center the container */
               padding: 10px; /* Add padding inside the container */
               max-width: 1200px; /* Set a maximum width for the container */
               font-family: 'Aptos', sans-serif;

         }














/* Slideshow Styles */
           .main-slideshow-container{
            position: relative;
            max-width: 100%;
            height: 400px; /* Adjust this value to set the desired height */
            margin-top: 10px;
            overflow: hidden;

        }
        .announcement-slideshow-container {
           position: relative;
            max-width: 100%;
            height: 350px; /* Adjust this value to set the desired height */
            margin-top: 10px;
            overflow: hidden;
        }

        .slide {
            display: none;
            height: 100%; /* Ensures the slideshow fills its container */
            width: 100%;
        }

        .slide img {
            width: 100%; /* Ensure image fills the width of the container */
            height: 100%; /* Ensure image fills the height of the container */
            display: block;
            margin: auto; /* Center image horizontally */
        }

        /* Navigation Buttons */
        .prev, .next {
            cursor: pointer;
            position: absolute;
            top: 50%;
            width: auto;
            padding: 16px;
            margin-top: -22px;
            color: white;
            font-weight: bold;
            font-size: 18px;
            transition: 0.6s ease;
            border-radius: 0 3px 3px 0;
            user-select: none;
        }

        .next {
            right: 0;
            border-radius: 3px 0 0 3px;
        }

        .prev:hover, .next:hover {
            background-color: rgba(0, 0, 0, 0.8);
        }

        .slideshow_and_embedFB_container {
            display: flex;
            flex-direction: column;
            align-items: flex-end; /* Aligns both items to the right */
            margin: 10px;
        }


         ._anouncement{
            font-size: 23px;
            font-weight: bold;
            margin-right: 180px;
            margin-top: -905px;
         }
        .announcement-slideshow-container {
            width: 350px;
            margin-top: 20px;
        }

        .facebook-plugin-container {
          width: 350px;
            margin-top: 10px;


        }

        .facebook-plugin-container .fb-page {
            width: 100%; /* Ensure the plugin content fills the container width */
        }


            /* Navigation Bar Styles */
.side-nav {
    position: sticky;
    top: 20px;
    width: 200px;
    padding: 10px;
    background-color: #f0f0f0;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.second-nav {
    margin-top: 20px; /* Add margin to separate it from the first nav */
}

.side-nav ul {
    list-style-type: none;
    padding: 0;
    margin: 0;
}

.side-nav li {
    margin: 10px 0;
}

.side-nav a {
    text-decoration: none;
    color: black;
    font-family: 'Aptos', sans-serif;
    font-size: 16px;
    transition: color 0.3s ease;
}

.side-nav a:hover {
    color: blue;
}

.second-nav li:first-child {
    font-weight: bold;
    font-size: 18px; /* Adjust font size for the title */
}

/* Adjust wrapper for the side navigation */
.wrapper {
    display: flex;
    align-items: flex-start;
    margin-top: 20px;
    gap: 40px; /* Adjust gap to provide space between nav and articles */
}





.DSDO_title {
    width: 200px;
    font-family: 'Aptos', sans-serif; /* Ensure font-family is correct */
    font-weight: 700; /* Use '700' for bold text */
    font-size: 18px;
    text-align: left;
    margin-top: -10px;
}

.DSO {
    width: 200px;
    font-family: 'Aptos', sans-serif; /* Ensure font-family is correct */
    font-size: 15px;
    text-align: left;
    margin-top: -10px;
}
.anti {
    width: 200px;
    font-family: 'Aptos', sans-serif; /* Ensure font-family is correct */
    font-size: 12px;
    text-align: left;
    margin-top: -10px;
}

.nav-photo {
     width: 200px; /* Default width */
    height: auto; /* Maintain aspect ratio */
    margin-top: 30px; /* Space above the photo */
}
           .whats-new {
            font-size: 24px;
            font-weight: bold;
            margin-left: 240px;
            margin-top: -893px;

        }


       .articles-container {
     display: flex;
     flex-direction: column; /* Arrange articles vertically */
     gap: 20px; /* Space between articles */
     align-items: center; /* Center the articles horizontally, if desired */
     margin-top: -850px;
     margin-left: -170px;
      margin-bottom: -10px;
        }

        .article {
            width: 530px; /* Set the width of each article */
            height: 180px;
            background-size: cover;
            background-position: center;
            color: white;
            border-radius: 5px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: flex-end;
            padding: 10px;
            text-decoration: none;
        }

        .article h2 {
            margin: 0;
            font-size: 16px;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .article p {
            font-size: 12px;
            margin: 0;
        }

        .article-1 {
            background-image: url('{% static "images/article_01.png" %}'); /* Replace with actual image */
        }

        .article-2 {
            background-image: url('{% static "images/article_2.jpg" %}'); /* Replace with actual image */
        }

        .article-3 {
            background-image: url('{% static "images/article_3.jpg" %}'); /* Replace with actual image */
        }
        .article-4 {
            background-image: url('{% static "images/article_3.jpg" %}'); /* Replace with actual image */
        }










.article-2 a, .article-3 a {
    color: white;
    text-decoration: none; /* Remove underline */
}


/* Ensure general link styling in articles is also considered */
.article a {
    color: white; /* Default link color inside articles */
    text-decoration: none; /* Remove underline */
}
         .about_us {
            display: flex;
            max-width: 1200px;
            margin-top: 30px;
        }
        .image-section {
            width: 70%;
            margin-right: 20px; /* Add space between image and text */
        }
        .image-section img {
            width: 100%;
            height: auto;
        }
        .text-section {
            width: 40%;
            padding: 20px;
            background-color: #e0e0e0;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        .text-section h1 {
            margin-top: 0;
            font-size: 36px;
        }
        .text-section p {
            font-size: 18px;
            line-height: 1.5;
       }





.calendar {
    width: 808px;
    height: 400px;
    margin-top: 10px;
    background-color: #020059;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    overflow: hidden;
    position: relative;
    background-image: url("{% static 'images/calendar_bg.jfif' %}");
    background-size: cover; /* This ensures the image covers the entire calendar area */
    background-position: center; /* Centers the image */
}



        .month {
            display: flex;
            justify-content: space-between;
            font-size: 30px;
            align-items: center;
            padding: 22px 50px;
            background-image: url("{% static 'images/calendar_head.jpg' %}");
            color: white;
            position: relative;
             font-weight: bold;
             text-align: center;
             font-family: Times Roman;
        }

        .weekdays {
            font-size: 24px;
            display: flex;
            background-color:#C2C2C2
            padding: 22px 22px;
            border-bottom: 1px solid #ddd;
            font-family: Times Roman;
        }

        .weekdays div {
            flex: 1;
            text-align: center;
            font-weight: bold;
            color: #5a5a5a;
        }



        .days {
            display: flex;
            flex-wrap: wrap;
            padding: 0px;




        }

        .days div {
            width: calc(100% / 7);
            height: 60px;
            line-height: 60px;
            box-sizing: border-box;
            text-align: right;
            padding: 20px;
            cursor: pointer;
            border: 1px solid #ddd;
            transition: background-color 0.3s;
            position: relative;
            font-family: Times Roman;



        }

/* Alternating row colors with 10% opacity */
.days div:nth-child(7n+1):nth-child(-n+7),
.days div:nth-child(7n+15):nth-child(-n+21),
.days div:nth-child(7n+29):nth-child(-n+35) {
    background-color: rgba(255, 255, 255, 0.1); /* White with 10% opacity */
}

.days div:nth-child(n+8):nth-child(-n+14),
.days div:nth-child(n+22):nth-child(-n+28) {
    background-color: rgba(1, 1, 1, 0.1); /* Gray (black with 10% opacity) */
}

/* Hover effect on days to darken regardless of row color */
.days div:hover {
    background-color: rgba(0, 0, 0, 0.5) !important; /* Darker effect on hover, overriding other styles */
}





.days div span {
    position: absolute; /* Absolute positioning for the date */
    top: 5px; /* Push the date number to the top */
    right: 20px; /* Push the date number to the right */
    font-size: 24px; /* Adjust font size */
    font-weight: bold;
}

 .month .prev,
        .month .next {
        margin-top: 170px;
            background-color: transparent;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            padding: 10px;
            position: absolute;
            top: -169%;
            transform: translateY(-50%);
        }
 .month .prev {
            left: 10px;
        }

        .month .next {
            right: 10px;
        }



 /* Styles for displaying event details under the calendar */
.event-display {
    width: 350px;
    height: 400px;
    margin-top: -395px; /* Adjusts box positioning */
    margin-left: 830px;
    padding: 20px; /* Adjust inner spacing */
    background-color: rgba(65, 105, 225, 0.15); /* 15% opacity dark blue */
    border-radius: 8px;
    font-size: 20px; /* Adjusts the font size */
    color: #333;
    text-align: left;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: flex-start; /* Aligns text to the left */
    box-sizing: border-box;
    overflow: auto; /* Adds a scrollbar if content overflows */
    white-space: pre-wrap; /* Handles text wrapping */
    line-height: 1.5; /* Adjusts vertical spacing between lines */
    letter-spacing: 0.5px; /* Adjusts horizontal spacing between letters */
}

.event-display .event-date {
    font-weight: bold;
    margin-bottom: 10px;
    font-size: 18px; /* Larger font for the date */
    line-height: 1.8; /* Increased spacing between lines */
    letter-spacing: 0.8px; /* Increased spacing between letters */
    font-family: Times Roman;
}

/* Adjusts the general spacing and first-line indentation for the text */
.event-display p {
    margin-top: 10px; /* Adjusts spacing above the paragraph */
    margin-bottom: 10px; /* Adjusts spacing below the paragraph */
    padding-left: 10px; /* Adds padding inside the container */
    text-indent: 15px; /* Indents the first line */
}







/* Highlight Days with Events */
.days .event-day span {
    background-color: blue;
    width: 10%;
    height: 20%;
    border-radius: 100%; /* Makes the shape a circle */


}







    </style>
      <div class = "container">
  <div class="container">
        <!-- Main Slideshow Section -->
        <div class="main-slideshow-container">
            <div class="slide main-slide fade">
                <img src="{% static 'images/slide_1.png' %}">
            </div>
            <div class="slide main-slide fade">
                <img src="{% static 'images/slide_2.png' %}">
            </div>
            <div class="slide main-slide fade">
                <img src="{% static 'images/slide_3.png' %}">
            </div>

            <!-- Navigation Buttons -->
            <a class="prev" onclick="plusSlides(-1, 'main')">&#10094;</a>
            <a class="next" onclick="plusSlides(1, 'main')">&#10095;</a>
        </div>











       <!-- Existing content omitted for brevity -->

    <div class="wrapper">
        <!-- Side Navigation -->
        <div class="side-nav">
            <ul>
                <li><a href="#announcement">Announcement</a></li>
                <li><a href="#events">Events</a></li>
                <li><a href="#achievements">Achievements</a></li>
            </ul>
        </div>
    </div>
     <div class="side-nav second-nav">
        <ul>
            <li><strong>Useful Links</strong></li> <!-- Title text, not a link -->
            <li><a href="{% url 'main:careers' %}">Careers</a></li>
            <li><a href="#bids">Bids Opportunities</a></li>
            <li><a href="#division-memo">Division Memorandum</a></li>
            <li><a href="#contact">Contact Us</a></li>
        </ul>
    </div>

    <div class="nav-content">
    <img src="{% static 'images/QR_code.png' %}" alt="Descriptive Text" class="nav-photo">

    <div class="DSDO_title">
        <h3><strong>DSDO Binan Client Satisfaction Measurement (CSM)</strong></h3>
    </div>

    <div class="DSO">
        <p>The Client Satisfaction (CSM) tracks the customer experience of government offices. Your feedback on your recently concluded transaction will help this office provide better service. Personal information shared will be kept confidential and you always have the option to not answer this form.</p>
        <div class="anti">
        <p><strong>ANTI-RED TAPE AUTHORITY</strong></p>
        <p>PSA Approval No. ARTA-2242-3</p>
        </div>
    </div>
</div>


         <div class="wrapper">
             <div class="whats-new">What's New </div>

    <div class="articles-container">
        <a href="{% url 'main:articles_view' %}" class="article article-1">
            <div>
                <h2>Program Implementation Review and Plan Adjustments cum Strategic Planning for Fiscal Year 2024</h2>
            </div>
        </a>
        <div class="article article-2">
            <div>
                <h2><a href="{% url 'main:articles_view' %}#article-2">125th Philippine Independence Day Celebration</a></h2>
            </div>
        </div>
        <div class="article article-3">
            <div>
                <h2><a href="{% url 'main:articles_view' %}#article-3">SY 2022-2023 Total LIS Enrollment</a></h2>
            </div>
        </div>
        <div class="article article-4">
            <div>
                <h2><a href="{% url 'main:articles_view' %}#article-3">SY 2022-2023 Total LIS Enrollment</a></h2>
            </div>
        </div>
    </div>
</div>


       <!-- Container for announcement slideshow and Facebook plugin -->
        <div class="slideshow_and_embedFB_container">
            <div class="_anouncement">Announcement </div>
            <!-- Announcement Slideshow Section -->
            <div class="announcement-slideshow-container">
                <div class="slide announcement-slide fade">
                    <a href="{% static 'images/national.jpg' %}" data-lightbox="announcement">
                        <img src="{% static 'images/national.jpg' %}">
                    </a>
                </div>
                <div class="slide announcement-slide fade">
                    <a href="{% static 'images/pasok.jfif' %}" data-lightbox="announcement">
                        <img src="{% static 'images/pasok.jfif' %}">
                    </a>
                </div>
                <div class="slide announcement-slide fade">
                    <a href="{% static 'images/announcement.jfif' %}" data-lightbox="announcement">
                        <img src="{% static 'images/announcement.jfif' %}">
                    </a>
                </div>

                <!-- Navigation Buttons -->
                <a class="prev" onclick="plusSlides(-1, 'announcement')">&#10094;</a>
                <a class="next" onclick="plusSlides(1, 'announcement')">&#10095;</a>
            </div>

            <!-- Facebook Plugin Section -->
            <div class="facebook-plugin-container">
                <div id="fb-root"></div>
                <script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v20.0" nonce="IeBvJJmp"></script>
                <div class="fb-page" data-href="https://www.facebook.com/depedtayobinan" data-tabs="timeline" data-width="500" data-height="500" data-small-header="true" data-adapt-container-width="true" data-hide-cover="false" data-show-facepile="true">
                    <blockquote cite="https://www.facebook.com/depedtayobinan" class="fb-xfbml-parse-ignore">
                        <a href="https://www.facebook.com/depedtayobinan">DepEd Tayo Biñan City</a>
                    </blockquote>
                </div>
            </div>
        </div>
  </div>


          <div class="calendar">
        <div class="month">
            <button class="prev" onclick="prevMonth()">&#10094;</button>
            <div id="monthYear"></div>
            <button class="next" onclick="nextMonth()">&#10095;</button>
        </div>
        <div class="weekdays">
            <div>Sun</div>
            <div>Mon</div>
            <div>Tue</div>
            <div>Wed</div>
            <div>Thu</div>
            <div>Fri</div>
            <div>Sat</div>
        </div>
        <div class="days" id="days"></div>
    </div>



<div class="event-display" id="eventDisplay">
    <div class="event-date">TODAY'S EVENT:</div>
    <div class="event-list">No events today.</div>
</div>
    </div>






  <br>
     <script>
               // Initialize slide indices for both slideshows
        let slideIndex = {
            main: 0,
            announcement: 0
        };

        function showSlides(slideshowClass, type) {
            let slides = document.getElementsByClassName(slideshowClass);
            for (let i = 0; i < slides.length; i++) {
                slides[i].style.display = "none";
            }
            slideIndex[type]++;
            if (slideIndex[type] > slides.length) {
                slideIndex[type] = 1;
            }
            slides[slideIndex[type] - 1].style.display = "block";
            setTimeout(() => showSlides(slideshowClass, type), 3000); // Change slide every 3 seconds
        }

        function plusSlides(n, type) {
            let slideshowClass = type === 'main' ? 'main-slide' : 'announcement-slide';
            let slides = document.getElementsByClassName(slideshowClass);
            slideIndex[type] += n;
            if (slideIndex[type] > slides.length) { slideIndex[type] = 1 }
            if (slideIndex[type] < 1) { slideIndex[type] = slides.length }
            showSlides(slideshowClass, type);
        }

        // Start both slideshows
        showSlides('main-slide', 'main');
        showSlides('announcement-slide', 'announcement');


        const monthNames = [
    "January", "February", "March", "April", "May", "June",
    "July", "August", "September", "October", "November", "December"
];

let currentMonth = new Date().getMonth();
let currentYear = new Date().getFullYear();
let today = new Date();

// Define events with times
const events = {
    "2024-08-25": [
        { time: "10:00 AM", description: "Event 1: Meeting" },
        { time: "02:00 PM", description: "Event 2: Workshop" }
    ],
    "2024-08-30": [
        { time: "", description: "No specific events" }
    ],
    "2024-09-04": [
        { time: "09:00 AM", description: "Event 1: Meeting" },
        { time: "03:00 PM", description: "Event 2: Workshop" }
    ],
    "2024-09-06": [
        { time: "11:00 AM", description: "Workshop" }
    ]

};

// Function to display events for a specific date
function showEvents(date) {
    const eventsList = events[date] || [];
    const eventDisplay = document.getElementById("eventDisplay");
    const eventListDiv = eventDisplay.querySelector(".event-list");

    if (eventsList.length) {
        // Clear the previous events
        eventListDiv.innerHTML = "";

        // Create a bulleted list
        const ul = document.createElement("ul");

        // Loop through events and add them to the list
        eventsList.forEach(event => {
            const li = document.createElement("li");

            // Format event with time (if available) and description
            li.textContent = event.time ? `${event.time} - ${event.description}` : event.description;

            // Add each event to the unordered list
            ul.appendChild(li);
        });

        // Append the list to the event display div
        eventListDiv.appendChild(ul);
    } else {
        eventListDiv.textContent = "No events today.";
    }
}

// Function to get today's date in the format YYYY-MM-DD
function getTodayDate() {
    const today = new Date();
    const year = today.getFullYear();
    const month = String(today.getMonth() + 1).padStart(2, '0');
    const day = String(today.getDate()).padStart(2, '0');
    return `${year}-${month}-${day}`;
}

// Function to get the next upcoming event
function getNextEvent() {
    const todayDate = getTodayDate();
    const eventDates = Object.keys(events).sort();

    for (let date of eventDates) {
        if (date >= todayDate) {
            return { date: date, events: events[date] };
        }
    }
    return null;
}


const headlineArticles = [
    "RECENT EVENTS",
    "August 20, 2024: Sharing success stories from South and North, SDO Binan spreads the NQMS worth!",
    "August 28, 2024: SDO Binan confirms ALS Partnership with Prime Reformation Center of the City",
    "August 28, 2024: 4 out of 11 Gawad Patnugot Stage 2 Qualifiers successfully hurdled the document validation process from August 19-22, 2024."
];

function renderCalendar(month, year) {
    const daysContainer = document.getElementById("days");
    const monthYear = document.getElementById("monthYear");
    daysContainer.innerHTML = "";

    const firstDay = new Date(year, month).getDay();
    const daysInMonth = 32 - new Date(year, month, 32).getDate();
    const today = new Date(); // Get today's date

    monthYear.textContent = `${monthNames[month]} ${year}`;

    // Empty cells for the first days
    for (let i = 0; i < firstDay; i++) {
        daysContainer.innerHTML += `<div></div>`;
    }

    // Create the day cells with the date in the upper-right corner
    for (let i = 1; i <= daysInMonth; i++) {
        const dateKey = `${year}-${String(month + 1).padStart(2, "0")}-${String(i).padStart(2, "0")}`;
        const dayDiv = document.createElement("div");

        // Wrap the date number in a span for better control
        dayDiv.innerHTML = `<span>${i}</span>`;
        dayDiv.onclick = () => showEvents(dateKey);

        // Highlight the current day
        if (year === today.getFullYear() && month === today.getMonth() && i === today.getDate()) {
            dayDiv.classList.add("current-day");
        }

        // Highlight event days
        if (events[dateKey]) {
            dayDiv.classList.add("event-day");
        }

        daysContainer.appendChild(dayDiv);
    }
}

function updateNewsTicker() {
    const nextEventInfo = getNextEvent();
    let combinedNews = '';

    if (nextEventInfo) {
        const { date, events } = nextEventInfo;
        const formattedDate = new Date(date).toLocaleDateString('en-PH', {
            year: 'numeric',
            month: 'long',
            day: 'numeric',
        });

        // Map events to a readable format
        combinedNews = events.map(event => {
            const time = event.time ? `${event.time} - ` : '';
            return `${formattedDate}: ${time}${event.description}`;
        }).join(' | ');
    } else {
        // If no event, show a notice
        combinedNews = 'No event today';
    }

    // Append headline articles after the events or notice
    combinedNews += combinedNews ? ` | ${headlineArticles.join(' | ')}` : headlineArticles.join(' | ');

    const newsTicker = document.getElementById('newsTicker');
    newsTicker.innerHTML = `<p>LATEST UPDATE: ${combinedNews}</p>`;
}

function prevMonth() {
    currentMonth = currentMonth === 0 ? 11 : currentMonth - 1;
    currentYear = currentMonth === 11 ? currentYear - 1 : currentYear;
    renderCalendar(currentMonth, currentYear);
}

function nextMonth() {
    currentMonth = currentMonth === 11 ? 0 : currentMonth + 1;
    currentYear = currentMonth === 0 ? currentYear + 1 : currentYear;
    renderCalendar(currentMonth, currentYear);
}

document.addEventListener('DOMContentLoaded', () => {
    renderCalendar(currentMonth, currentYear);
    showEvents(getTodayDate()); // Display today's events
});







     </script>




{% endblock %}
